$(window).on("load",function(){var e=$("#universe"),o=$(".loader"),t=$(".loader__wrapper"),a=$(".loader__local-button"),n=$(".loader__redirect"),s=$(".loader__control-button"),r="";socket.on("access",function(e){$(".loader__remote-button").val(e.key),console.log(socket,e.key)}),/mobile/i.test(navigator.userAgent)&&($('<input class="loader__text" type="text" placeholder=".  .  .  ." maxlength="4" />').insertBefore(a),a.parent().addClass("row-flex")),$(".loader__text").length&&(r=$(".loader__text"),setTimeout(function(){r.width(a.width())},0)),o.removeClass("hidden"),null===sessionStorage.getItem("loader")?(sessionStorage.setItem("loader","true"),o.addClass("loader__new-session"),t.children().not(".loader__planet").removeClass("hidden"),e.addClass("universe__new-session"),s.on("click",function(){var e=$(this).data("attr");n.addClass("hidden"),$("."+e).removeClass("hidden"),"redirect__remote"===e&&socket.on("emitKey",function(e){$(".loader__remote-button").val(e.key),console.log(e.key)})}),a.on("click",function(){/mobile/i.test(navigator.userAgent)?(socket.emit("load",{key:$(".loader__text").val()}),socket.on("access",function(t){"granted"===t.access&&""!==t.access?(o.removeClass("loader__new-session").addClass("loader__new-session--clicked"),e.addClass("universe__new-session--clicked")):(r.addClass("loader__text--error loader__text--animation"),$(".loader__text").on("focus",function(){r.removeClass("loader__text--error")}),setTimeout(function(){r.removeClass("loader__text--animation")},1e3))})):(o.removeClass("loader__new-session").addClass("loader__new-session--clicked"),e.addClass("universe__new-session--clicked"))})):(o.addClass("loader__same-session"),e.addClass("universe__same-session"),t.children().not(".loader__planet").addClass("hidden"))}),$(document).ready(function(){function e(e){var o=window.event||e,t=o.detail?o.detail:o.wheelDelta;t/=120,(r+=(t=n?t/3:t)/5)>0?a.css({transform:"rotateX(70deg) scale3d("+r+","+r+","+r+")"}):r=0}function o(e,o,a){var n=e.pageX-t.offset().left,s=e.pageY-t.offset().top;TweenMax.to(o,1,{x:(n-t.width()/2)/t.width()*a,y:(s-t.height()/2)/t.height()*a})}var t=$("#universe"),a=$('[class^="galaxy-"]'),n=/Firefox/i.test(navigator.userAgent),s=n?"DOMMouseScroll":"mousewheel",r=1;document.attachEvent?document.attachEvent("on"+s,e):document.addEventListener&&document.addEventListener(s,e,!1),t.on("mousemove",function(e){o(e,"#galaxy .planet-wrapper .planet",-20),$(".moons-wrapper .moon").each(function(t,a){o(e,a,-50-50*t)})});var i=["Sun","Mercury","Venus","Earth","Mars","Jupiter","Saturn","Uranus","Neptune"],l=navigator.userAgent;if(annyang){var d={"back (to) (main) (first) (page)":function(){window.location="/"},"(show) (me) (details) (about) (the) :word":function(e){$.each(i,function(o,t){e.toLowerCase()===t.toLowerCase()&&(/mobile/i.test(l)||(window.location=e.toLowerCase()))})},"image about *search":function(e){var o="https://images-api.nasa.gov/search?q="+e+"&title="+e+"&media_type=image&year_start=1900";$.ajax({url:o,success:function(e){$.each(e.collection.items,function(e,o){if(e>=10)return!1;$("<img />").attr("src",o.links[0].href).appendTo(".info-gallery")})},error:function(){console.log("error")}})}};annyang.addCommands(d),annyang.start({autoRestart:!0})}else console.log("Speech Recognition is not supported")});