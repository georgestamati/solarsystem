$(window).on("load",function(){var e=$("#universe"),a=$(".loader"),t=$(".loader__wrapper"),o=$(".loader__local-button"),n=$(".loader__redirect"),s=$(".loader__control-button"),r="",i="";/mobile/i.test(navigator.userAgent)?($('<input class="loader__text" type="text" placeholder=".  .  .  ." maxlength="4" />').insertBefore(o),o.parent().addClass("row-flex")):r=$("<div></div>"),$(".loader__text").length&&(r=$(".loader__text"),setTimeout(function(){r.width(o.width())},0)),a.removeClass("hidden"),null===sessionStorage.getItem("loader")?(sessionStorage.setItem("loader","true"),a.addClass("loader__new-session"),t.children().not(".loader__planet").removeClass("hidden"),e.addClass("universe__new-session"),o.on("click",function(){(i=r.val().trim()).length&&socket.emit("load",{key:i}),/mobile/i.test(navigator.userAgent)?socket.on("access",function(t){"granted"===t.access&&""!==t.access?(a.removeClass("loader__new-session").addClass("loader__new-session--clicked"),e.addClass("universe__new-session--clicked"),r.removeClass("loader__text--error loader__text--animation")):(r.addClass("loader__text--error loader__text--animation"),$(".loader__text").on("focus",function(){r.removeClass("loader__text--error")}),setTimeout(function(){r.removeClass("loader__text--animation")},1e3))}):(a.removeClass("loader__new-session").addClass("loader__new-session--clicked"),e.addClass("universe__new-session--clicked"))}),s.on("click",function(){var e=$(this).data("attr");if(n.addClass("hidden"),$("."+e).removeClass("hidden"),"redirect__remote"===e){var a=Math.floor(1e3+9e3*Math.random());$(".loader__remote-button").val(a)}})):(a.addClass("loader__same-session"),e.addClass("universe__same-session"),t.children().not(".loader__planet").addClass("hidden"))}),$(document).ready(function(){function e(e){var a=window.event||e,t=a.detail?a.detail:a.wheelDelta;t/=120,(r+=(t=n?t/3:t)/5)>0?o.css({transform:"rotateX(70deg) scale3d("+r+","+r+","+r+")"}):r=0}function a(e,a,o){var n=e.pageX-t.offset().left,s=e.pageY-t.offset().top;TweenMax.to(a,1,{x:(n-t.width()/2)/t.width()*o,y:(s-t.height()/2)/t.height()*o})}var t=$("#universe"),o=$('[class^="galaxy-"]'),n=/Firefox/i.test(navigator.userAgent),s=n?"DOMMouseScroll":"mousewheel",r=1;document.attachEvent?document.attachEvent("on"+s,e):document.addEventListener&&document.addEventListener(s,e,!1),t.on("mousemove",function(e){a(e,"#galaxy .planet-wrapper .planet",-20),$(".moons-wrapper .moon").each(function(t,o){a(e,o,-50-50*t)})});var i=["Sun","Mercury","Venus","Earth","Mars","Jupiter","Saturn","Uranus","Neptune"],d=navigator.userAgent;if(annyang){var l={"back (to) (main) (first) (page)":function(){window.location="/"},"(show) (me) (details) (about) (the) :word":function(e){$.each(i,function(a,t){e.toLowerCase()===t.toLowerCase()&&(/mobile/i.test(d)||(window.location=e.toLowerCase()))})},"image about *search":function(e){var a="https://images-api.nasa.gov/search?q="+e+"&title="+e+"&media_type=image&year_start=1900";$.ajax({url:a,success:function(e){$.each(e.collection.items,function(e,a){if(e>=10)return!1;$("<img />").attr("src",a.links[0].href).appendTo(".info-gallery")})},error:function(){console.log("error")}})}};annyang.addCommands(l),annyang.start({autoRestart:!0})}else console.log("Speech Recognition is not supported")});