$(window).on("load",function(){var e=$("#universe"),a=$(".loader"),o=$(".loader__wrapper"),t=$(".loader__local-button"),n=$(".loader__redirect"),s=$(".loader__control-button"),r="",i=/mobile/i.test(navigator.userAgent);i&&($('<input class="loader__text" type="text" placeholder=".  .  .  ." maxlength="4" />').insertBefore(t),t.parent().addClass("row-flex")),$(".loader__text").length&&(r=$(".loader__text"),setTimeout(function(){r.width(t.width())},0)),a.removeClass("hidden"),null===sessionStorage.getItem("loader")?(sessionStorage.setItem("loader","true"),a.addClass("loader__new-session"),o.children().not(".loader__planet").removeClass("hidden"),e.addClass("universe__new-session"),s.on("click",function(){var e=$(this).data("attr");n.addClass("hidden"),$("."+e).removeClass("hidden")}),t.on("click",function(){i?(socket.emit("load",{key:$(".loader__text").val()}),socket.on("access",function(o){"granted"===o.access&&""!==o.access?(a.removeClass("loader__new-session").addClass("loader__new-session--clicked"),e.addClass("universe__new-session--clicked")):(r.addClass("loader__text--error loader__text--animation"),$(".loader__text").on("focus",function(){r.removeClass("loader__text--error")}),setTimeout(function(){r.removeClass("loader__text--animation")},1e3))})):(a.removeClass("loader__new-session").addClass("loader__new-session--clicked"),e.addClass("universe__new-session--clicked"))}),socket.on("key",function(e){$(".loader__remote-button").val(e.code)})):(a.addClass("loader__same-session"),e.addClass("universe__same-session"),o.children().not(".loader__planet").addClass("hidden"))}),$(document).ready(function(){function e(e){var a=window.event||e,o=a.detail?a.detail:a.wheelDelta;o/=120,(d+=(o=s?o/3:o)/5)>0?t.css({transform:"rotateX(70deg) scale3d("+d+","+d+","+d+")"}):d=0}function a(e,a,t){var n=e.pageX-o.offset().left,s=e.pageY-o.offset().top;TweenMax.to(a,1,{x:(n-o.width()/2)/o.width()*t,y:(s-o.height()/2)/o.height()*t})}var o=$("#universe"),t=$('[class^="galaxy-"]'),n=/mobile/i.test(navigator.userAgent),s=/Firefox/i.test(navigator.userAgent),r=["Sun","Mercury","Venus","Earth","Mars","Jupiter","Saturn","Uranus","Neptune"],i=s?"DOMMouseScroll":"mousewheel",d=1;if(document.attachEvent?document.attachEvent("on"+i,e):document.addEventListener&&document.addEventListener(i,e,!1),o.on("mousemove",function(e){a(e,"#galaxy .planet-wrapper .planet",-20),$(".moons-wrapper .moon").each(function(o,t){a(e,t,-50-50*o)})}),annyang){var l={"back (to) (main) (first) (page)":function(){window.location="/"},"(show) (me) (details) (about) (the) :word":function(e){$.each(r,function(a,o){e.toLowerCase()===o.toLowerCase()&&(n||(window.location=e.toLowerCase()))})},"image about *search":function(e){var a="https://images-api.nasa.gov/search?q="+e+"&title="+e+"&media_type=image&year_start=1900";$.ajax({url:a,success:function(e){$.each(e.collection.items,function(e,a){if(e>=10)return!1;$("<img />").attr("src",a.links[0].href).appendTo(".info-gallery")})},error:function(){console.log("error")}})}};annyang.addCommands(l),annyang.start({autoRestart:!0})}else console.log("Speech Recognition is not supported")});