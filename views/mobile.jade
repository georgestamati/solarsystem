extends layout

block content

	#galaxy
		div.menu.main-page-link
			a(href='/') Back to main page
		div.menu.mobile-menu
			each item in items
				.menu-item
					a(href="/#{item.name}") #{item.name}
					div(id="#{item.name}")
						if item.name != 'sun'
							.planet
								if item.name == 'saturn' || item.name == 'uranus'
									.rings

	script.
		var socket = io.connect();

		//- Get anchors from menu
		var menuLinks = document.getElementsByTagName('a');

		// Transform from NodeList to Array
		menuLinks = Array.prototype.slice.call(menuLinks);

		menuLinks.forEach(function(link) {
			link.addEventListener('click', function (ev) {
				ev.preventDefault();
				socket.emit('eventchange', { url : ev.target.href });
			}, false );
		});